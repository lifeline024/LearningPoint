<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Monitoring System</title>
    <link rel="stylesheet" href="health.css">
</head>
<body>
<section id="project-info">
    <h3>Health Monitoring System</h3>
    
    <p><strong>Project Overview:</strong></p>
    <p>This project involves the development of a Health Monitoring System using IoT. It tracks essential health parameters such as heart rate, SpO2 (oxygen saturation), and body temperature using sensors. The system uses a NodeMCU ESP8266 to collect and display the data on an LCD screen in real-time.</p>

    <!-- First Image -->
    <img src="https://shorturl.at/wgm5a" alt="Health Monitoring System" style="max-width: 100%; display: block; margin: 10px auto;">

    <p><strong>Technologies Used:</strong></p>
    <ul>
        <li>NodeMCU ESP8266</li>
        <li>MAX30100 (Heart Rate & SpO2 Sensor)</li>
        <li>DS18B20 (Temperature Sensor)</li>
        <li>LCD Display</li>
        <li>Arduino IDE</li>
    </ul>

    <p><strong>Key Features:</strong></p>
    <ul>
        <li>Real-time health data display on an LCD screen.</li>
        <li>Heart rate and SpO2 monitoring for better health tracking.</li>
        <li>Temperature monitoring for early warning of fever or hypothermia.</li>
        <li>Simple user interface for ease of use.</li>
    </ul>

    <p><strong>Project Video:</strong></p>
    <div style="text-align: center;">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/CusJRCPENdc" 
            title="Health Monitoring System Overview" frameborder="0" 
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen>
        </iframe>
    </div>

    <p><strong>Project Challenges:</strong></p>
    <ul>
        <li>Integration of different sensors with the NodeMCU.</li>
        <li>Ensuring accurate sensor readings despite environmental noise.</li>
        <li>Optimizing power consumption for long-term use on battery power.</li>
    </ul>

    <p><strong>Outcome:</strong></p>
    <p>This health monitoring system provides a reliable and easy-to-use solution for tracking key health metrics. It can be used for personal health tracking or integrated into larger healthcare systems for continuous monitoring.</p>

    <p><strong>Future Work:</strong></p>
    <ul>
        <li>Integrating wireless communication (e.g., Bluetooth, Wi-Fi) for remote data monitoring.</li>
        <li>Adding data storage for historical health tracking.</li>
        <li>Improving accuracy with advanced sensors and algorithms.</li>
    </ul>


    <h3>Code for this Project</h3>
    <div style="display: flex; justify-content: center; align-items: flex-start; gap: 10px;">
        <!-- Code Display -->
        <textarea id="code-content" readonly style="width: 90%; height: 200px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-family: monospace;">
            //Prateek
            //https://justdoelectronics.com
            //https://www.youtube.com/c/JustDoElectronics/videos
            
            #include <Wire.h>
            #include "MAX30100_PulseOximeter.h"
            #define BLYNK_PRINT Serial
            #include <Blynk.h>
            #include <WiFi.h>
            #include <BlynkSimpleEsp32.h>
            #include <OneWire.h>
            #include <DallasTemperature.h>
            #include "DHT.h"
            #define DHTTYPE DHT11
            #define REPORTING_PERIOD_MS 1000
            #define DS18B20 5
            
            char auth[] = "G9nCH4W7AWUwviplzwpGLleH0fOdXF9_";
            char ssid[] = "justdoelectronics";
            char pass[] = "123456789";
            PulseOximeter pox;
            
            uint8_t DHTPin = 18;
            DHT dht(DHTPin, DHTTYPE);
            float Temperature;
            float Humidity;
            float bodytemperature;
            float BPM, SpO2;
            uint32_t tsLastReport = 0;
            
            OneWire oneWire(DS18B20);
            DallasTemperature sensors(&oneWire);
            
            void onBeatDetected() {
              Serial.println("Beat Detected!");
            }
            
            void setup() {
              Serial.begin(115200);
              pinMode(19, OUTPUT);
              pinMode(DHTPin, INPUT);
              dht.begin();
              Blynk.begin(auth, ssid, pass);
              Serial.print("Initializing Pulse Oximeter..");
            
              if (!pox.begin()) {
                Serial.println("FAILED");
                for (;;)
                  ;
              } else {
                Serial.println("SUCCESS");
                pox.setOnBeatDetectedCallback(onBeatDetected);
              }
              pox.setIRLedCurrent(MAX30100_LED_CURR_7_6MA);
            }
            
            void loop() {
              pox.update();
              Blynk.run();
              Temperature = dht.readTemperature(); 
              Humidity = dht.readHumidity();       
              BPM = pox.getHeartRate();
              SpO2 = pox.getSpO2();
              bodytemperature = sensors.getTempCByIndex(0);
            
              if (millis() - tsLastReport > REPORTING_PERIOD_MS) {
                Serial.print("Heart rate:");
                Serial.print(BPM);
                Serial.print(" bpm / SpO2:");
                Serial.print(SpO2);
                Serial.println(" %");
                Serial.print("Room Temperature: ");
                Serial.print(Temperature);
                Serial.println("°C");
                Serial.print("Room Humidity: ");
                Serial.print(Humidity);
                Serial.println("%");
                Serial.print("Body Temperature: ");
                Serial.print(bodytemperature);
                Serial.println("°C");
                Blynk.virtualWrite(V3, Temperature);
                Blynk.virtualWrite(V4, Humidity);
                Blynk.virtualWrite(V5, BPM);
                Blynk.virtualWrite(V6, SpO2);
                Blynk.virtualWrite(V7, bodytemperature);
            
                tsLastReport = millis();
              }
            }
        </textarea>

        <!-- Copy Button -->
        <button id="copy-btn" style="padding: 10px; background-color: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer;">
            Copy
        </button>
    </div>
</section>
    <!-- Print Button -->
    <button id="print-btn" style="padding: 10px 20px; background-color: #008CBA; color: white; border: none; border-radius: 5px; cursor: pointer; display: block; margin: 20px auto;">Print</button>
</section>

<section id="code-section" style="margin-top: 30px; text-align: center;">
<script>
    // Copy Code functionality
    document.getElementById("copy-btn").addEventListener("click", function () {
        const codeContent = document.getElementById("code-content");
        codeContent.select();
        codeContent.setSelectionRange(0, 99999); // For mobile devices
        document.execCommand("copy");
        alert("Code copied to clipboard!");
    });

    // Print functionality
    document.getElementById("print-btn").addEventListener("click", function () {
        window.print(); // Triggers the print dialog
    });
</script>
</body>
</html>
